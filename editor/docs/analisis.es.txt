Introducción
========
El siguiente documento pretende ser un punto de inicio para listar la visión, 
los requerimientos y casos de uso del programa _easyrpg_, un clón del rpgmaker.

Visión
========
El _easyrpg_ esta pensado para ser un clón del conocido programa rpgmaker.
Como una primera etapa se desea que pueda ser compatible "hacia atrás" con los
ficheros generados por el rpgmaker y que posea una interfaz similar.
Dicho programa está formado por tres componentes: un editor, un interprete y 
contenidos multimedia básicos para comenzar cualquier proyecto.
Se da por descontado que también se deben poder utilizar los archivos de datos
generados por el rpgmaker, lo cual tendrá una fuerte influencia a la hora de
definir las estructuras de datos utilizadas por el _easyrpg_.

En este documento nos centraremos en el editor, el cual permite diseñar juegos
RPG sin requerir conocimientos de programación.
Dicho editor tiene la forma:

+------------------------------------------------+
|BARRA DE MENUES                                 |
+------------------------------------------------+
|BARRA DE HERRAMIENTAS                           |
+-------------+----------------------------------+
|HERRAMIENTAS |AREA DE EDICION DEL MAPA          |
|DE DIBUJO    |                                  |
|CON SPRITES  |                                  |
+-------------+                                  |
|SPRITES      |                                  |
|DEL          |                                  |
|MAPA         |                                  |
|             |                                  |
|             |                                  |
+-------------+                                  |
|DATOS        |                                  |
|DEL          |                                  |
|MAPA         |                                  |
|             |                                  |
|             |                                  |
+-------------+----------------------------------+
|BARRA DE STATUS                                 |
+------------------------------------------------+

El editor se maneja con tres 'capas':
a) Capa inferior: Es donde se edita el fondo.
b) Capa superior: Aquí van los complementos que se dibujan sobre el fondo.
c) Capa de eventos: Utilizada para crear personajes no jugadores. 

Dentro de la sección 'SPRITES DEL MAPA' podemos seleccionar uno o varios
'tiles'. A su vez tenemos varias herramientas tales como 'dibujo a mano
alzada', 'dibujo en rectangulo', 'dibujo en elipse', 'llenado'.
La edición de las capas inferior o superior no difieren mucho.

Al editar la 'capa de eventos' el mapa se subdivide en celdas, en cada una de
las cuales podemos agregar un evento configurable. Dicho evento es elegido 
mediante un cuadro de dialogo lanzado por el editor.

Dentro del 'AREA DE EDICION' tendremos diferentes vistas, según que capa esté
editandose: la vista inferior, superior y de eventos, en correspondencia con 
las capas. Cuando se esta editando la capa inferior o la superior se
marcan de forma distinta los cuadros que contienen eventos. A su vez, cuando se
esta editando la capa superior, los sprites correspondientes a la capa inferior
se oscurecen.

Actores
========
Solo hay un tipo de actor: el usuario que crea o edita los niveles del juego.
Por eso en los requerimientos funcionales se omitiran los actores.

Requerimientos funcionales
========
#
NOMBRE: Inicio del editor
SINOPSIS: Este caso de uso comienza cuando el usuario inicia el sistema.
Al principio tenemos un proyecto vacio.

#
NOMBRE: Creación de un proyecto
SINOPSIS: Este caso de uso comienza cuando el usuario crea un proyecto.
Se cierra el proyecto en curso y se crea uno que contiene un mapa por defecto y
los archivos multimedia por defecto.
El mapa por defecto es un sprite determinado dentro de los correspondientes a 
la capa inferior. Bajo ningun concepto queda una celda del mapa sin ser
adjudicado. Luego las celdas pueden ser modificadas con el editor.

#
NOMBRE: Guardar proyecto
SINOPSIS: En este caso de uso se guardan a disco las estructuras de datos
que mantienen la información del proyecto.

#
NOMBRE: Elegir capa inferior
SINOPSIS: Aquí se elige para editar la capa inferior.  
Se modifican los sprites en la sección 'SPRITES DEL MAPA' y en el 'AREA DE
EDICION DEL MAPA' se muestra la 'vista inferior'. Se modifican los controles
para editar la capa inferior.

#
NOMBRE: Elegir capa superior
SINOPSIS: Se elige para editar la capa superior.
Se modifican los sprites en la sección 'SPRITES DEL MAPA'; en el 'AREA DE
EDICION DEL MAPA' se muestra la 'vista superior'. Se modifican los controles
para editar la capa superior.

#
NOMBRE: Elegir capa de eventos
SINOPSIS: Se elige para editar la capa de eventos.
En el 'AREA DE EDICION DEL MAPA' se muestra la 'vista de eventos'. Se modifican
los controles para editar la capa de eventos.

#
NOMBRE: Seleccionar cuadro
SINOPSIS: Estando editando las capas superior o inferior, se elige un cuadro
o varios contiguos del dialogo 'SPRITES DEL MAPA'.Dicha selección es hecha
marcando un cuadro y usando la técnica de 'banda de ule' con el mouse. Luego
dicha selección (cuadro de aquí en más) puede ser dibujado en el mapa como un
cuadro simple.
Nota: en el dialogo 'SPRITES DEL MAPA' siempre hay seleccionado un cuadro.
